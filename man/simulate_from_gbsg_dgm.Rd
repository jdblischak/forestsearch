% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim_aft_gbsg_refactored.R
\name{simulate_from_gbsg_dgm}
\alias{simulate_from_gbsg_dgm}
\title{Simulate Trial Data from GBSG DGM}
\usage{
simulate_from_gbsg_dgm(
  dgm,
  n = NULL,
  rand_ratio = 1,
  sim_id = 1,
  max_follow = Inf,
  muC_adj = 0,
  min_cens = NULL,
  max_cens = NULL,
  draw_treatment = TRUE
)
}
\arguments{
\item{dgm}{A "gbsg_dgm" object from \code{\link{create_gbsg_dgm}}}

\item{n}{Integer. Sample size. If NULL, uses full super-population.
Default: NULL}

\item{rand_ratio}{Numeric. Randomization ratio (treatment:control).
Default: 1 (1:1 randomization)}

\item{sim_id}{Integer. Simulation ID used for seed offset. Default: 1}

\item{max_follow}{Numeric. Administrative censoring time (months).
Default: Inf (no administrative censoring)}

\item{muC_adj}{Numeric. Adjustment to censoring distribution location
parameter. Positive values increase censoring. Default: 0}

\item{min_cens}{Numeric. Minimum censoring time for uniform censoring.
Required if cens_type = "uniform"}

\item{max_cens}{Numeric. Maximum censoring time for uniform censoring.
Required if cens_type = "uniform"}

\item{draw_treatment}{Logical. If TRUE, randomly assigns treatment.
If FALSE, samples from existing treatment arms. Default: TRUE}
}
\value{
Data frame with simulated trial data including:
\describe{
\item{id}{Subject identifier}
\item{y.sim}{Observed follow-up time}
\item{event.sim}{Event indicator (1 = event, 0 = censored)}
\item{t.sim}{True event time (before censoring)}
\item{treat}{Treatment indicator}
\item{flag.harm}{Harm subgroup indicator}
\item{loghr_po}{Individual log hazard ratio (potential outcome)}
\item{v1-v7}{Analysis factors}
}
}
\description{
Generates simulated clinical trial data from a GBSG-based data generating
mechanism.
}
\examples{
\dontrun{
dgm <- create_gbsg_dgm(model = "alt", k_inter = 2.0)
sim_data <- simulate_from_gbsg_dgm(dgm, n = 500, sim_id = 1)

# Check AHR in simulated data
exp(mean(sim_data$loghr_po))
}

}
