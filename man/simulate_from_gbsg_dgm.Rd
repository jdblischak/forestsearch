% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim_aft_gbsg_refactored.R
\name{simulate_from_gbsg_dgm}
\alias{simulate_from_gbsg_dgm}
\title{Simulate Trial Data from GBSG DGM}
\usage{
simulate_from_gbsg_dgm(
  dgm,
  n = NULL,
  rand_ratio = 1,
  sim_id = 1L,
  max_follow = Inf,
  muC_adj = 0,
  min_cens = NULL,
  max_cens = NULL,
  draw_treatment = TRUE
)
}
\arguments{
\item{dgm}{A "gbsg_dgm" object from \code{\link{create_gbsg_dgm}}}

\item{n}{Integer. Sample size. If NULL, uses full super-population.
Default: NULL}

\item{rand_ratio}{Numeric. Randomization ratio (treatment:control).
Default: 1 (1:1 randomization)}

\item{sim_id}{Integer. Simulation ID used for seed offset. Default: 1}

\item{max_follow}{Numeric. Administrative censoring time (months).
Default: Inf (no administrative censoring)}

\item{muC_adj}{Numeric. Adjustment to censoring distribution location
parameter. Positive values increase censoring. Default: 0}

\item{min_cens}{Numeric. Minimum censoring time for uniform censoring.
Required if cens_type = "uniform"}

\item{max_cens}{Numeric. Maximum censoring time for uniform censoring.
Required if cens_type = "uniform"}

\item{draw_treatment}{Logical. If TRUE, randomly assigns treatment.
If FALSE, samples from existing treatment arms. Default: TRUE}
}
\value{
A data.frame with simulated trial data containing:
\describe{
\item{id}{Subject ID}
\item{y.sim}{Observed time (min of event time and censoring time)}
\item{event.sim}{Event indicator (1 = event, 0 = censored)}
\item{t.sim}{True (latent) event time}
\item{treat}{Treatment indicator}
\item{flag.harm}{True harm subgroup indicator}
\item{v1-v7}{Analysis covariates}
\item{z1-z5, grade3, size}{Underlying covariates}
}
}
\description{
Generates simulated clinical trial data from a GBSG-based data generating
mechanism.
}
\examples{
\dontrun{
# Create DGM
dgm <- create_gbsg_dgm(model = "alt")

# Simulate a trial
sim_data <- simulate_from_gbsg_dgm(
  dgm = dgm,
  n = 500,
  sim_id = 1,
  max_follow = 60
)

# Check event rate
mean(sim_data$event.sim)
}

}
\seealso{
\code{\link{create_gbsg_dgm}} for creating the DGM
}
