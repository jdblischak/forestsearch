% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/format_subgroup_summary_tables.R
\name{create_factor_summary_tables}
\alias{create_factor_summary_tables}
\title{Create Factor Summary Tables from Bootstrap Results}
\usage{
create_factor_summary_tables(factor_freq, n_found, min_percent = 2)
}
\arguments{
\item{factor_freq}{Data.frame or data.table. Factor frequency table from
\code{\link{summarize_bootstrap_subgroups}}, containing columns:
\itemize{
\item \code{Position}: Position identifier (e.g., "M.1", "M.2")
\item \code{Factor}: Factor definition string
\item \code{N}: Count of times factor appeared in this position
\item \code{Percent}: Percentage relative to times position was populated
}}

\item{n_found}{Integer. Number of successful bootstrap iterations (where a
subgroup was identified). Used to calculate overall percentages.}

\item{min_percent}{Numeric. Minimum percentage threshold for including factors
in the tables. Factors with selection frequencies below this threshold are
excluded. Default is 2 (i.e., 2\%).}
}
\value{
A list with up to two GT table objects:
\describe{
\item{\code{by_position}}{GT table showing factor frequencies within each
position. Percentages represent conditional probability of factor selection
given that the position was populated. Within each position, percentages
sum to approximately 100\% (may not sum exactly to 100\% after filtering).}
\item{\code{overall}}{GT table showing total factor frequencies across all
positions. Includes additional columns indicating which positions each
factor appeared in and how many unique positions used the factor.
Percentages represent proportion of successful iterations where the factor
appeared in any position.}
}

If no factors meet the minimum threshold, the corresponding table element
will be NULL.
}
\description{
Generates formatted GT tables summarizing factor frequencies from bootstrap
subgroup analysis. Creates two complementary tables: one showing factor
selection frequencies within each position (M.1, M.2, etc.), and another
showing overall factor frequencies across all positions.
}
\note{
This function requires the \pkg{gt} package for table creation. The overall
table also requires \pkg{dplyr} for data aggregation. If \pkg{dplyr} is not
available, only the position-specific table will be created and the overall
element will be NULL.

Always check for NULL before using the returned tables:
\preformatted{
if (!is.null(factor_tables$by_position)) {
  print(factor_tables$by_position)
}
}

If all factors have percentages below \code{min_percent}, both table elements
will be NULL.
}
\seealso{
\itemize{
\item \code{\link{summarize_bootstrap_subgroups}} for generating the factor_freq input
\item \code{\link{format_subgroup_summary_tables}} for creating all subgroup summary tables
\item \code{\link{summarize_bootstrap_results}} for complete bootstrap analysis workflow
\item \code{\link{forestsearch_bootstrap_dofuture}} for running bootstrap analysis
}
}
\concept{bootstrap summary functions}
\concept{table formatting functions}
\keyword{bootstrap}
\keyword{internal}
\keyword{subgroups}
\keyword{tables}
