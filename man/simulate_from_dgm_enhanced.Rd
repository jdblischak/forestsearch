% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_from_dgm_flex.R
\name{simulate_from_dgm_enhanced}
\alias{simulate_from_dgm_enhanced}
\title{Simulate Data from AFT DGM}
\usage{
simulate_from_dgm_enhanced(
  dgm,
  n_sim = NULL,
  draw_treatment = TRUE,
  treatment_prob = 0.5,
  seed = NULL,
  verbose = FALSE
)
}
\arguments{
\item{dgm}{An object of class "aft_dgm_flex" created by generate_aft_dgm_flex()}

\item{n_sim}{Integer specifying the number of observations to simulate.
If NULL, uses the size of the super population}

\item{draw_treatment}{Logical indicating whether to randomly draw treatment
assignments. If FALSE and original treatment exists, uses those assignments}

\item{treatment_prob}{Numeric probability of treatment assignment when drawing
new treatments. Default is 0.5}

\item{seed}{Integer random seed for reproducibility. If NULL, no seed is set}

\item{verbose}{Logical indicating whether to print progress information}
}
\value{
A data.frame containing:
\describe{
\item{id}{Observation ID}
\item{\link{covariates}}{All covariate columns from the super population}
\item{treat}{Treatment assignment (0 or 1)}
\item{time}{Observed survival time}
\item{event}{Event indicator (1 = event, 0 = censored)}
\item{time_uncensored}{True survival time (before censoring)}
\item{time_censor}{Censoring time}
\item{in_subgroup}{Subgroup membership indicator (for standard models)}
\item{z}{Biomarker value (for spline models)}
}
}
\description{
Generates simulated survival data from a fitted AFT data generating mechanism,
supporting both standard subgroup models and spline-based models.
}
\examples{
\dontrun{
# Generate DGM
dgm <- generate_aft_dgm_flex(
  data = gbsg,
  continuous_vars = c("age", "size", "nodes", "pgr", "er"),
  factor_vars = c("meno", "grade"),
  outcome_var = "rfstime",
  event_var = "status",
  treatment_var = "hormon",
  model = "alt"
)

# Simulate data
sim_data <- simulate_from_dgm(dgm, n_sim = 1000, seed = 123)

# Check censoring rate
mean(sim_data$event)
}

}
