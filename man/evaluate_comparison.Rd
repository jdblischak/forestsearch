% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/forestsearch_helpers.R
\name{evaluate_comparison}
\alias{evaluate_comparison}
\title{Evaluate a Comparison Expression Without eval(parse())}
\usage{
evaluate_comparison(expr, df)
}
\arguments{
\item{expr}{Character. An expression like \code{"er <= 0"},
\code{"size > 35"}, \code{"grade3 == 1"}, or a bare column name
like \code{"q3.1"}.}

\item{df}{Data frame whose columns are referenced by \code{expr}.}
}
\value{
Logical vector of length \code{nrow(df)}.
}
\description{
Parses a string of the form \code{"var op value"} and evaluates it
directly against a data frame column using operator dispatch. Falls back
to column-name lookup for bare names.
}
\details{
Supported operators (matched longest-first to avoid partial-match
ambiguity): \code{<=}, \code{>=}, \code{!=}, \code{==}, \code{<},
\code{>}.

If no operator is found, \code{expr} is treated as a column name and
the result is \code{df[[expr]] == 1}.

The value on the right-hand side is coerced to numeric when possible,
otherwise kept as character for string comparisons.
}
\examples{
\dontrun{
df <- data.frame(er = c(-1, 0, 1, 2), size = c(10, 20, 30, 40))
evaluate_comparison("er <= 0", df)
# [1]  TRUE  TRUE FALSE FALSE

evaluate_comparison("size > 25", df)
# [1] FALSE FALSE  TRUE  TRUE
}

}
